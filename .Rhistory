knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(mosaic)
library(tidyverse)
library(arules)
library(arulesViz)
groceries_df = read.delim("https://raw.githubusercontent.com/jgscott/STA380/master/data/groceries.txt", header = FALSE, sep = ",", na.strings = c("",NaN))
groceries = read.transactions("https://raw.githubusercontent.com/jgscott/STA380/master/data/groceries.txt", format = "basket", sep = ",")
#arules::inspect(rules)
arules::inspect(subset(rules, subset=lift > 3 & confidence > 0.2))
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(mosaic)
library(tidyverse)
library(arules)
library(arulesViz)
groceries_df = read.delim("https://raw.githubusercontent.com/jgscott/STA380/master/data/groceries.txt", header = FALSE, sep = ",", na.strings = c("",NaN))
groceries = read.transactions("https://raw.githubusercontent.com/jgscott/STA380/master/data/groceries.txt", format = "basket", sep = ",")
head(groceries_df)
occurrences = sort(table(unlist(groceries_df)))
#plot(sort(occurrences), xlab = "items purchased", ylab = "occurrences")
df = as.data.frame(occurrences)
ggplot(df, aes(x=Var1, y=Freq)) +
geom_bar(stat='identity') +
ggtitle("Frequency of Items in Groceries.txt") +
xlab("Purchased Item (Sorted)") +
ylab("Occurrences")+
theme(
axis.text.x = element_blank(),
plot.title = element_text(size = 15, face = "bold", hjust = 0.5)
)
rules = apriori(groceries,
parameter=list(support=.005, confidence=.1, maxlen=5, minlen = 2))
#arules::inspect(rules)
arules::inspect(subset(rules, subset=lift > 3 & confidence > 0.2))
# plot all the rules in (support, confidence) space
# notice that high lift rules tend to have low support
plot(rules)
occurrences = as.data.frame(sort(table(unlist(groceries_df))))
ggplot(occurrences, aes(x=Var1, y=Freq)) +
geom_bar(stat='identity') +
ggtitle("Frequency of Items in Groceries.txt") +
xlab("Purchased Item (Sorted)") +
ylab("Occurrences")+
theme(
axis.text.x = element_blank(),
plot.title = element_text(size = 15, face = "bold", hjust = 0.5)
)
View(occurrences)
occurrences[occurrences > 1250]
View(occurrences)
occurrences[occurrences$Freq > 1250]
occurrences[occurrences$Freq > 1250]
occurrences[occurrences$Freq > 1250, ]
occurrences[occurrences$Freq > 1250, Var1]
occurrences[occurrences$Freq > 1250, "Var1"]
kable(head(v_freq), format = "markdown")
knitr::kable(head(v_freq), format = "markdown")
v_freq = occurrences[occurrences$Freq > 1250,]
knitr::kable(head(v_freq), format = "markdown")
?as.data.frame
occurrences = as.data.frame(sort(table(unlist(groceries_df))), colnames = c("item","occurrences"))
ggplot(occurrences, aes(x=Var1, y=Freq)) +
geom_bar(stat='identity') +
ggtitle("Frequency of Items in Groceries.txt") +
xlab("Purchased Item (Sorted)") +
ylab("Occurrences")+
theme(
axis.text.x = element_blank(),
plot.title = element_text(size = 15, face = "bold", hjust = 0.5)
)
occurrences = as.data.frame(sort(table(unlist(groceries_df))), colnames = c("item","occurrences"))
ggplot(occurrences, aes(x=item, y=occurrences)) +
geom_bar(stat='identity') +
ggtitle("Frequency of Items in Groceries.txt") +
xlab("Purchased Item (Sorted)") +
ylab("Occurrences")+
theme(
axis.text.x = element_blank(),
plot.title = element_text(size = 15, face = "bold", hjust = 0.5)
)
View(occurrences)
occurrences = as.data.frame(sort(table(unlist(groceries_df))), col.names = c("item","occurrences"))
ggplot(occurrences, aes(x=item, y=occurrences)) +
geom_bar(stat='identity') +
ggtitle("Frequency of Items in Groceries.txt") +
xlab("Purchased Item (Sorted)") +
ylab("Occurrences")+
theme(
axis.text.x = element_blank(),
plot.title = element_text(size = 15, face = "bold", hjust = 0.5)
)
View(occurrences)
?sort
v_freq = sort(occurrences[occurrences$Freq > 1250,], decreasing = TRUE)
v_freq = occurrences[occurrences$Freq > 1250,]
knitr::kable(head(v_freq[order(-Freq)]), format = "markdown")
v_freq = occurrences[occurrences$Freq > 1250,]
knitr::kable(head(v_freq[order(-occurrences$Freq)]), format = "markdown")
v_freq = occurrences[occurrences$Freq > 1250,]
knitr::kable(head(v_freq[order(-occurrences$Freq),]), format = "markdown")
v_freq = occurrences[occurrences$Freq > 1250,]
knitr::kable(head(v_freq[order(occurrences$Freq),]), format = "markdown")
v_freq = occurrences[occurrences$Freq > 1250,]
knitr::kable(head(v_freq, format = "markdown")
v_freq = occurrences[occurrences$Freq > 1250,]
knitr::kable(head(v_freq), format = "markdown")
v_freq = occurrences[occurrences$Freq > 1250,]
knitr::kable(head(v_freq), format = "markdown", row.names = NA, col.names = c("Item","Occurrences"))
v_freq = occurrences[occurrences$Freq > 1250,]
knitr::kable(head(v_freq), format = "markdown", row.names = FALSE, col.names = c("Item","Occurrences"))
occurrences = as.data.frame(sort(table(unlist(groceries_df))))
ggplot(occurrences, aes(x=Var1, y=Freq)) +
geom_bar(stat='identity') +
ggtitle("Frequency of Items in Groceries.txt") +
xlab("Purchased Item (Sorted)") +
ylab("Occurrences")+
theme(
axis.text.x = element_blank(),
plot.title = element_text(size = 15, face = "bold", hjust = 0.5)
)
